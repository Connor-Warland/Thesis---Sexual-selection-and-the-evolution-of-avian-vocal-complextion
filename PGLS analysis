# PGLS analysis

#clear working environment 
rm(list=ls())

#set working directory 
setwd("C:/Users/Connor/Documents/MastersWork/Dissertation/B10k/Current_working_docs")

#load morpho-ecological dataset
b10k<-read.csv("CW_data_subset.csv")

#install all required packages
install.packages("ape",repos="https://cloud.r-project.org",quiet=TRUE)
install.packages("caper",repos="https://cloud.r-project.org",quiet=TRUE)
install.packages("geiger",repos="https://cloud.r-project.org",quiet=TRUE)
install.packages("nlme",repos="https://cloud.r-project.org",quiet=TRUE)
install.packages("phytools",repos="https://cloud.r-project.org",quiet=TRUE)
install.packages("dplyr")

#load the packages in the environment
require(ape)
require(caper)
require(geiger)
require(nlme)
require(phytools)
require(dplyr)

#load phylogenetic tree 
mytree2<-read.nexus("C:/Users/Connor/Documents/Masters Work/Dissertation/B10k/Current_working_docs/tree_2/output.nex")

#create consensus tree
tree.consensus2 = consensus(mytree2, p = 0.5)
tree2 = compute.brlen(tree.consensus2, 1)

